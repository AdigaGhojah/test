function OnScrollDiv(e){e.scrollLeft<0&&document.getElementById("slideNext").classList.add("d-none")}function searchButton(e){""!=(e=e.previousElementSibling.value.trim())&&(e=window.location.origin+"/b/Search-result?q="+e,window.location.href=e)}function goBack(){window.history.back()}window.addEventListener("scroll",function(e){var t=this.scrollY;const n=document.querySelector(".nav-bar");var o,s=document.querySelector(".logo-container img");document.querySelector("#homeheader")&&(o=document.querySelector("#homeheader")),10<t?(n.classList.remove("d-block"),n.classList.add("d-none"),o&&150<t&&("/assets/img/logo-dark.svg"!=s.getAttribute("src")&&(s.src="/assets/img/logo-dark.svg"),o.classList.remove("header-bg-color")),o&&250<t&&(o.classList.remove("header-bg"),document.querySelector(".desktop-form .search-field").blur())):(n.classList.remove("d-none"),n.classList.add("d-block"),o&&("/assets/img/logo-dark.svg"==s.getAttribute("src")&&(s.src="../assets/img/logo.svg"),o.classList.add("header-bg"),o.classList.add("header-bg-color")))}),document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelector(".nav-bar"),t=document.getElementById("container"),n=document.querySelectorAll(".nav-item"),o=0,s=0;s<n.length;s++)o+=n[s].offsetWidth;o<=e.offsetWidth-32&&document.getElementById("slideNext").classList.add("d-none"),document.getElementById("slideNext").onclick=function(){scrollAmount=0;var e=setInterval(function(){t.scrollLeft-=15,scrollAmount+=15,document.getElementById("slideNext").classList.add("d-none"),100<=scrollAmount&&window.clearInterval(e)},30)};var l=document.querySelector(".mobile-search"),r=document.querySelector(".search-mobile");r.onclick=function(){l.classList.toggle("d-none"),r.classList.toggle("icon-search"),r.classList.toggle("icon-cancel")}});const goUpButton=document.getElementById("go-up"),goDownButton=document.getElementById("go-down"),topTolerance=1e3,bottomTolerance=300;function handleButtonDisplay(){window.onscroll=function(){window.pageYOffset||window.scrollY>=topTolerance?window.innerHeight+window.scrollY+bottomTolerance>=document.body.offsetHeight?(goUpButton.style.display="flex",goDownButton.style.display="none"):(goUpButton.style.display="none",goDownButton.style.display="flex"):(goDownButton.style.display="none",goUpButton.style.display="none")}}function handleScroll(e){var t=document.body.scrollHeight;window.scroll({top:"up"===e?0:t,left:0,behavior:"smooth"})}function ValidateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function subscribeNewsletter(){var e=new FormData,t=document.querySelector("input.subscribe"),n=document.querySelector("button.subscribe");e.append("email",t.value);var o=new XMLHttpRequest;o.onreadystatechange=function(e){n.disabled=!0,4==o.readyState&&(200===o.status?document.querySelector("#newsletter-subscription-form").innerHTML='<p class="text-center text-success">لتفعيل إشتراكك بالنشرة البريدية، تم إرسال رابط التحقق إلي بريدك الإلكتروني.</p>':document.querySelector("input.subscribe").parentElement.insertAdjacentHTML("afterEnd","<span class='text-danger'>حدث خطأ</span>"))},o.onerror=function(){console.log("Network Error")},o.open("post","/function/newsletter/subscribe",!0),o.send(e)}window.onload=handleButtonDisplay(),document.addEventListener("DOMContentLoaded",function(e){var t=document.getElementById("the-carousel").children.length,n=document.getElementById("the-carousel").children[0].offsetWidth,o=document.getElementById("the-carousel"),s=document.getElementById("carousel-container"),l=s.offsetWidth,r=t*(n+30),c=0;o.style.right=c;var i=n+30,d=0,a=768<=window.innerWidth?Math.floor(t-l/i):t-l/i,u=document.getElementById("next"),m=document.getElementById("prev");function g(){a<=++d?(u.disabled=!0,c-=i,o.style.right=-1*(r-(n+(l-n)))+"px"):(u.disabled=!1,c-=i,o.style.right=c+"px"),m.disabled=!1}function b(){d--,m.disabled=0==d,c+=i,o.style.right=c+"px",u.disabled=!1}u.addEventListener("click",g),m.addEventListener("click",b),s.addEventListener("touchstart",function(e){e=function(e){return e.touches||e.originalEvent.touches}(e)[0];y=e.clientX,p=e.clientY},!1),s.addEventListener("touchmove",function(e){if(!y||!p)return;var t=e.touches[0].clientX,e=e.touches[0].clientY,t=y-t,e=p-e;Math.abs(t)>Math.abs(e)&&(0<t&&!m.disabled?b():t<0&&!u.disabled&&g());p=y=null},!1);var y=null,p=null}),document.addEventListener("readystatechange",function(e){"complete"===document.readyState&&document.getElementById("newsletter-subscription-form").addEventListener("submit",function(e){e.preventDefault(),null!=document.querySelector("input.subscribe").parentElement.nextElementSibling&&document.querySelector("input.subscribe").parentElement.nextElementSibling.remove();e=this.querySelector("input.subscribe");""!==e.value||document.querySelector("input.subscribe").parentElement.nextElementSibling&&document.querySelector("input.subscribe").parentElement.nextElementSibling.classList.contains("text-danger")?ValidateEmail(e.value)?subscribeNewsletter():document.querySelector("input.subscribe").parentElement.insertAdjacentHTML("afterEnd","<span class='text-danger'>مطلوب إدخال بريد إلكتروني صحيح</span>"):document.querySelector("input.subscribe").parentElement.insertAdjacentHTML("afterEnd","<span class='text-danger'>هذا الحقل مطلوب</span>")})});